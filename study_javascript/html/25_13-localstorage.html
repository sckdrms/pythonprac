<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../CSS/21_8-Ajax.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap');
  </style>
</head>
<body>


  <div class="container">
    <div id="iteminfo" class="row">
  
        <!-- <div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100">
          <h5>Card title</h5>
          <p>가격 : 70000</p>
        </div>
   -->
    </div>
  </div> 
  


<div class="container mt-3">
  <div class="card p-3">
    <span class="car-title">차종</span>
    <span class="car-price">가격</span>
  </div>
</div>



<form class="container my-5 form-group" id="item">
  <p>상품선택</p>
  <select class="form-select mt-2">
    <option>모자</option>
    <option>셔츠</option>
    <option>바지</option>
  </select>
</form>

<form class="container my-5 form-group form-hide" id="size">
  <p>사이즈 선택</p>
  <select class="form-select mt-2">
    <option>95</option>
    <option>100</option>
    <option>105</option>
  </select>
</form>



<div id="test">

</div>

<script>
  a.innerHTML= '안녕';
  $('#test').append(a);
</script>



<script>

  var pants = [28, 30, 32];
  var shirts = [95, 100, 105]

  $('.form-select').eq(0).on('input', function(){
  var value = $('.form-select').eq(0).val();
  if (value == '셔츠') {
    $('.form-group').eq(1).removeClass('form-hide');
    $('.form-select').eq(1).html('')
    shirts.forEach(function(shirt_size){
      $('.form-select').eq(1).append(`<option>${shirt_size}</option>`)
    })

  }

  else if (value == '모자') {
    $('.form-group').eq(1).addClass('form-hide');
  }

  else if (value == '바지') {
    $('.form-group').eq(1).removeClass('form-hide');
    $('.form-select').eq(1).html('')
    // for (var i = 0; i < pants.length; i++){}
    pants.forEach(function(a, i){
      $('.form-select').eq(1).append(`<option>${a}</option>`);
    })
  };

})

var obj = {name : 'kim', age : '24'}
  for (var key in obj){
    console.log(key);
    console.log(obj[key])
  }


</script>





  <div class="container mt-5">
    <ul class="list">
      <li class="tab-button">Products</li>
      <li class="tab-button orange">Information</li>
      <li class="tab-button">Shipping</li>
    </ul>
    <div class="tab-content show">
      <p>상품설명입니다. Product</p>
    </div>
    <div class="tab-content">
      <p>스펙설명입니다. Information</p>
    </div>
    <div class="tab-content">
      <p>배송정보입니다. Shipping</p>
    </div>
  </div> 

<div id="moreinfo" class="container">
  <button class="btn btn-danger">더보기</button>
</div>

<div id="sort-price" class="container my-3">
  <button class="btn btn-danger">가격순 정렬</button>
</div>

<div id="sort-revname" class="container my-3">
  <button class="btn btn-danger">이름 역순 정렬</button>
</div>

<div id="filter-60000" class="container my-3">
  <button class="btn btn-danger"> 6만원 이하만 보기</button>
</div>


<script>
// make itemlist and data binding

var products = [
  { id: 0, title: 'Black Monastery', price: 70000 },
  { id: 1, title: 'Springfield Shirt', price: 50000 },
  { id: 2, title: 'Awesome Dress', price: 60000 }
];

var 어레이 = [5,2,6,8,10,22];
// sort는 원본 수정 O
어레이.sort();
어레이.sort(function(a,b){
  return a-b
});
//  filter은 원본 수정 X
var 새어레이 = 어레이.filter(function(a){
  return a < 4
})
// map은 일괄처리
var 새어레이 = 어레이.map(function(a){
  return a * 4
})




// var 상품정보 = `<div class="col-sm-4">
//           <img src="https://via.placeholder.com/600" class="w-100">
//           <h5> ${products.title}</h5>
//           <p>가격 : ${products.ptice} </p>
//         </div>`

// $('#iteminfo').append(상품정보){
//   for(i = 0; i < products.length; i++;)
// }

// for(var i = 0; i < products.length; i++){
//   var 상품정보 = `<div class="col-sm-4">
//           <img src="https://via.placeholder.com/600" class="w-100">
//           <h5> ${products[i].title}</h5>
//           <p>가격 : ${products[i].price} </p>
//         </div>`
//   $('#iteminfo').append(상품정보)
// }


// for (var i = 0; i < products.length; i++){
//   var 상품정보 = `<div class="col-sm-4">
//           <img src="https://via.placeholder.com/600" class="w-100">
//           <h5>${products[i].title}</h5>
//           <p>가격 : ${products[i].price}</p>
//         </div>`
//   $('#iteminfo').append(상품정보)
// }


// for (var i = 0; i < products.length; i++){
//   var 상품정보 = ` <div class="col-sm-4">
//           <img src="https://via.placeholder.com/600" class="w-100">
//           <h5> ${products[i].title}</h5>
//           <p>가격 : ${products[i].price}</p>
//          </div>`
//   $('#iteminfo').append(상품정보)
// }

// -----------------------------------------------------------------
// products.forEach((a, i)=>{
//       var 템플릿 = 
//       `<div class="col-sm-4">
//         <img src="https://via.placeholder.com/600" class="w-100">
//         <h5>${products[i].title}</h5>
//         <p>가격 : ${products[i].price}</p>
//       </div>`;
//       $('.row').append(템플릿)
// });
// -----------------------------------------------------------------





// for(let  i = 0; i < products.length; i++){
//   var 상품정보 = `<div class="col-sm-4">
//           <img src="https://via.placeholder.com/600" class="w-100">
//           <h5>${products[i].title}</h5>
//           <p>가격 : ${products[i].price}</p>
//           <button id = 'purchase${i}'class= 'buy btn btn-danger'>구매</button>
//           </div>`
//   $('#iteminfo').append(상품정보)

// }
for (let i = 0; i < products.length; i++) {
  var 상품정보 = `<div class="col-sm-4">
    <img src="https://via.placeholder.com/600" class="w-100">
    <h5>${products[i].title}</h5>
    <p>가격 : ${products[i].price}</p>
    <button id="purchase${i}" class="buy btn btn-danger">구매</button>
  </div>`;
  $('#iteminfo').append(상품정보);




// $('${#purchase[i]}').on('click',function(){
//   var cart1 = []
//   var cart2 = JSON.stringify(cart1);
//   cart2 = cart2.push[products[i]]
//   localStorage.setItem('cart', cart2)
// })

// $(`#purchase${i}`).on('click', function(){
//   var cart = JSON.parse(localStorage.getItem('cart')) || []; // 로컬 스토리지에서 카트 데이터 불러오기

//   // 선택한 상품(0번째 상품)을 카트에 추가
//   cart.push(products[i].title);

//   // 업데이트된 카트 데이터를 로컬 스토리지에 다시 저장
//   localStorage.setItem('cart', JSON.stringify(cart));
// });

  $(`#purchase${i}`).on('click', function() {
    var cart = JSON.parse(localStorage.getItem('cart')) || []; // 로컬 스토리지에서 카트 데이터 불러오기

    // 선택한 상품을 카트에 추가
    cart.push(products[i].title);

    // 업데이트된 카트 데이터를 로컬 스토리지에 다시 저장
    localStorage.setItem('cart', JSON.stringify(cart));
  });
}

sessionStorage.setItem

</script>

<!-- review js -->

<script>

var car2 = {name: '배송비', price: [70000, 3000, 4000]}
  $('.car-title').html(car2.name)
  // $('.car-title').html(car2['name'])
  $('.car-price').html(car2.price[1])


</script>



<script>

  

var 버튼 = $('.tab-button')
var 콘텐츠 = $('.tab-content')

for (let i = 0; i < $('.tab-button').length; i ++){
  버튼.eq(i).on('click', function(){
  탭열기(i)
})
}

function 탭열기(변수){
   
    버튼.removeClass('orange')
    버튼.eq(변수).addClass('orange')
  
    콘텐츠.removeClass('show')
    콘텐츠.eq(변수).addClass('show')
  

}
</script>

<!-- 8.Ajax -->
<script>

  $.get('https://codingapple1.github.io/hello.txt11')
    .done(
    function(파라미터){
      console.log(파라미터)
    })
    .fail(function(){
      console.log('load fail')
    })


  $.post('https://codingapple1.github.io/hello.txt', {name: 'kim'}).done(
    function(파라미터){
      console.log(파라미터)
    }
  );


  $.get('https://codingapple1.github.io/price.json')
    .done(
      function(data){
        console.log(data)
        console.log(data.price)
      }
    )

//     $('#sort-price').on('click', function() {
//   products.sort(function(a, b) {
//     return a.price - b.price; // 가격을 기준으로 오름차순 정렬
//   });

//   // 정렬된 products 배열을 확인하기 위해 여기서 console.log 사용
//   console.log(products);
// });


// $('sort-price').on('click', function(){
//   products.sort(function(a,b){
//     return a.price-b.price
//   })
// })

// $('#sort-price').on('click', function(){
//   products.sort(function(a, b){
//     return a.price-b.price
//   })
// })

  $('#sort-price').on('click', function(){
    products.sort(function(a, b){
      return a.price-b.price
    })

    $('#iteminfo').html('')
              
    for (var i = 0; i < 3; i++) {
      var 더보기 = `
        <div class="col-sm-4">        
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${products[i].title}</h5>
        <p>가격 : ${products[i].price}</p>
        </div>`;
        
      $('#iteminfo').append(더보기);
              }

  })

  $('#sort-revname').on('click', function(){
    products.sort(function(a, b){
      if(a.title<b.title){
        return 1;
      }
      else if(a.title>b.title){
        return -1;
      }
      else{
        return 0;
      }
    })
    console.log(products)

    $('#iteminfo').html('')
              
    for (var i = 0; i < 3; i++) {
      var 더보기 = `
        <div class="col-sm-4">        
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${products[i].title}</h5>
        <p>가격 : ${products[i].price}</p>
        </div>`;
        
      $('#iteminfo').append(더보기);
              }

  })


  $('#filter-60000').on('click', function(){
    var filter60000 =products.filter(function(a){
      return a.price <=60000}
    )

    $('#iteminfo').html('')
              
    for (var i = 0; i < 3; i++) {
      var 더보기 = `
        <div class="col-sm-4">        
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>${filter60000[i].title}</h5>
        <p>가격 : ${filter60000[i].price}</p>
        </div>`;
        
      $('#iteminfo').append(더보기);
              }

  })


</script>

<script>

  // $('#moreinfo').on('click', function(){
  //   let 클릭횟수 = 0
  //     for(var c = 0; c <= 2; c++)
  //     if (c === 1){
  //   $.get('https://codingapple1.github.io/js/more1.json')
  //   .done(
  //     function(data){console.log(data)

  //       for(var i = 0; i < 3; i++){
  //         var 더보기 = `<div class="col-sm-4">
  //         <img src="https://via.placeholder.com/600" class="w-100">
  //         <h5>${data[i].title}</h5>
  //         <p>가격 : ${data[i].price}</p>
  //       </div>
  //         `
  //         $('#iteminfo').append(더보기)
  //       }
  //     })
  //   }
  //   else if (c === 2){
  //   $.get('https://codingapple1.github.io/js/more2.json')
  //   .done(
  //     function(data){console.log(data)

  //       for(var i = 0; i < 3; i++){
  //         var 더보기 = `<div class="col-sm-4">
  //         <img src="https://via.placeholder.com/600" class="w-100">
  //         <h5>${data[i].title}</h5>
  //         <p>가격 : ${data[i].price}</p>
  //       </div>
  //         `
  //         $('#iteminfo').append(더보기)
  //         $('#moreinfo').addClass('.form-hide')
  //       }
  //     })
  //   }
  // })


  $(document).ready(function() {
      let 클릭횟수 = 0;

      $('#moreinfo').on('click', function() {
        // 더보기 버튼 클릭 시에만 동작하도록 조건 추가
        if (클릭횟수 === 0) {
          $.get('https://codingapple1.github.io/js/more1.json')
            .done(function(data) {
              console.log(data);

              for (var i = 0; i < 3; i++) {
                var 더보기 = `<div class="col-sm-4">
                  <img src="https://via.placeholder.com/600" class="w-100">
                  <h5>${data[i].title}</h5>
                  <p>가격 : ${data[i].price}</p>
                </div>`;
                $('#iteminfo').append(더보기);
              }

              클릭횟수++; // 클릭 횟수 증가

            });
        } else if (클릭횟수 === 1) {
          $.get('https://codingapple1.github.io/js/more2.json')
            .done(function(data) {
              console.log(data);

              for (var i = 0; i < 3; i++) {
                var 더보기 = `<div class="col-sm-4">
                  <img src="https://via.placeholder.com/600" class="w-100">
                  <h5>${data[i].title}</h5>
                  <p>가격 : ${data[i].price}</p>
                </div>`;
                $('#iteminfo').append(더보기);
              }

              // 두 번째 클릭에서 더보기 버튼 숨김 처리
              $('#moreinfo').addClass('form-hide');
            });
        }
                      // 두 번째 클릭에서 더보기 버튼 숨김 처리
                      if (클릭횟수 === 2) {
                $('#moreinfo').addClass('form-hide');
              }
      });
    });

</script>

<script id="study-local storage">
  localStorage.setItem('이름', 'kim')
localStorage.getItem('이름')
localStorage.removeItem('이름')

localStorage.setItem('num', [1,2,3])
var localarr = [1,2,3];
var Newlocalarr = JSON.stringify(localarr); // JSON.stringify = array / object > JSON
// Newlocalarr = JSON.parse(Newlocalarr)  // JSON.parse = JSON > array / object
localStorage.setItem('num',Newlocalarr)
var 꺼낸거 = localStorage.getItem('num')
console.log(JSON.parse(꺼낸거[1]))
</script>

</body>
</html>